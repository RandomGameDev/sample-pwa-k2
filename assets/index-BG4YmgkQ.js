import{q as Re,t as mn,a as $e,U as yn}from"./chunk-HA7DTUK3-BUh68AE2.js";function se(e){function t(a,r){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=a,this.code=r}return t.prototype=new Error,t.prototype.name=e,t.prototype.constructor=t,t}const hn=se("LaunchDarklyUnexpectedResponseError"),bn=se("LaunchDarklyInvalidEnvironmentIdError"),wn=se("LaunchDarklyInvalidUserError"),xn=se("LaunchDarklyInvalidEventKeyError"),En=se("LaunchDarklyInvalidArgumentError"),kn=se("LaunchDarklyFlagFetchError");for(var _={LDUnexpectedResponseError:hn,LDInvalidEnvironmentIdError:bn,LDInvalidUserError:wn,LDInvalidEventKeyError:xn,LDInvalidArgumentError:En,LDInvalidDataError:se("LaunchDarklyInvalidDataError"),LDFlagFetchError:kn,LDTimeoutError:se("LaunchDarklyTimeoutError"),isHttpErrorRecoverable:function(e){return!(e>=400&&e<500)||e===400||e===408||e===429}},Sn=function(e){var t=xt(e),a=t[0],r=t[1];return 3*(a+r)/4-r},On=function(e){var t,a,r=xt(e),c=r[0],o=r[1],n=new Cn(function(s,l,f){return 3*(l+f)/4-f}(0,c,o)),i=0,u=o>0?c-4:c;for(a=0;a<u;a+=4)t=te[e.charCodeAt(a)]<<18|te[e.charCodeAt(a+1)]<<12|te[e.charCodeAt(a+2)]<<6|te[e.charCodeAt(a+3)],n[i++]=t>>16&255,n[i++]=t>>8&255,n[i++]=255&t;return o===2&&(t=te[e.charCodeAt(a)]<<2|te[e.charCodeAt(a+1)]>>4,n[i++]=255&t),o===1&&(t=te[e.charCodeAt(a)]<<10|te[e.charCodeAt(a+1)]<<4|te[e.charCodeAt(a+2)]>>2,n[i++]=t>>8&255,n[i++]=255&t),n},Dn=function(e){for(var t,a=e.length,r=a%3,c=[],o=16383,n=0,i=a-r;n<i;n+=o)c.push(Pn(e,n,n+o>i?i:n+o));return r===1?(t=e[a-1],c.push(ne[t>>2]+ne[t<<4&63]+"==")):r===2&&(t=(e[a-2]<<8)+e[a-1],c.push(ne[t>>10]+ne[t>>4&63]+ne[t<<2&63]+"=")),c.join("")},ne=[],te=[],Cn=typeof Uint8Array<"u"?Uint8Array:Array,wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de=0;de<64;++de)ne[de]=wt[de],te[wt.charCodeAt(de)]=de;function xt(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.indexOf("=");return a===-1&&(a=t),[a,a===t?0:4-a%4]}function Pn(e,t,a){for(var r,c,o=[],n=t;n<a;n+=3)r=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(255&e[n+2]),o.push(ne[(c=r)>>18&63]+ne[c>>12&63]+ne[c>>6&63]+ne[63&c]);return o.join("")}te[45]=62,te[95]=63;var In={byteLength:Sn,toByteArray:On,fromByteArray:Dn},Et=Array.isArray,kt=Object.keys,Tn=Object.prototype.hasOwnProperty,Rn=function e(t,a){if(t===a)return!0;if(t&&a&&typeof t=="object"&&typeof a=="object"){var r,c,o,n=Et(t),i=Et(a);if(n&&i){if((c=t.length)!=a.length)return!1;for(r=c;r--!=0;)if(!e(t[r],a[r]))return!1;return!0}if(n!=i)return!1;var u=t instanceof Date,s=a instanceof Date;if(u!=s)return!1;if(u&&s)return t.getTime()==a.getTime();var l=t instanceof RegExp,f=a instanceof RegExp;if(l!=f)return!1;if(l&&f)return t.toString()==a.toString();var g=kt(t);if((c=g.length)!==kt(a).length)return!1;for(r=c;r--!=0;)if(!Tn.call(a,g[r]))return!1;for(r=c;r--!=0;)if(!e(t[o=g[r]],a[o]))return!1;return!0}return t!=t&&a!=a};const jn=["key","ip","country","email","firstName","lastName","avatar","name"];function St(e){const t=unescape(encodeURIComponent(e));return In.fromByteArray(function(a){const r=[];for(let c=0;c<a.length;c++)r.push(a.charCodeAt(c));return r}(t))}function Je(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var We,T={appendUrlPath:function(e,t){return(e.endsWith("/")?e.substring(0,e.length-1):e)+(t.startsWith("/")?"":"/")+t},base64URLEncode:function(e){return St(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},btoa:St,clone:function(e){return JSON.parse(JSON.stringify(e))},deepEquals:function(e,t){return Rn(e,t)},extend:function(...e){return e.reduce((t,a)=>({...t,...a}),{})},getLDUserAgentString:function(e){const t=e.version||"?";return e.userAgent+"/"+t},objectHasOwnProperty:Je,onNextTick:function(e){setTimeout(e,0)},sanitizeContext:function(e){if(!e)return e;let t;return e.kind!==null&&e.kind!==void 0||jn.forEach(a=>{const r=e[a];r!==void 0&&typeof r!="string"&&(t=t||{...e},t[a]=String(r))}),t||e},transformValuesToVersionedValues:function(e){const t={};for(const a in e)Je(e,a)&&(t[a]={value:e[a],version:0});return t},transformVersionedValuesToValues:function(e){const t={};for(const a in e)Je(e,a)&&(t[a]=e[a].value);return t},wrapPromiseCallback:function(e,t){const a=e.then(r=>(t&&setTimeout(()=>{t(null,r)},0),r),r=>{if(!t)return Promise.reject(r);setTimeout(()=>{t(r,null)},0)});return t?void 0:a}},Ln=new Uint8Array(16);function Ot(){if(!We&&!(We=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return We(Ln)}var Un=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qe(e){return typeof e=="string"&&Un.test(e)}for(var Dt,Be,K=[],Ge=0;Ge<256;++Ge)K.push((Ge+256).toString(16).substr(1));function Ve(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=(K[e[t+0]]+K[e[t+1]]+K[e[t+2]]+K[e[t+3]]+"-"+K[e[t+4]]+K[e[t+5]]+"-"+K[e[t+6]]+K[e[t+7]]+"-"+K[e[t+8]]+K[e[t+9]]+"-"+K[e[t+10]]+K[e[t+11]]+K[e[t+12]]+K[e[t+13]]+K[e[t+14]]+K[e[t+15]]).toLowerCase();if(!qe(a))throw TypeError("Stringified UUID is invalid");return a}var Ze=0,Xe=0;function Gt(e){if(!qe(e))throw TypeError("Invalid UUID");var t,a=new Uint8Array(16);return a[0]=(t=parseInt(e.slice(0,8),16))>>>24,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=255&t,a[4]=(t=parseInt(e.slice(9,13),16))>>>8,a[5]=255&t,a[6]=(t=parseInt(e.slice(14,18),16))>>>8,a[7]=255&t,a[8]=(t=parseInt(e.slice(19,23),16))>>>8,a[9]=255&t,a[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,a[11]=t/4294967296&255,a[12]=t>>>24&255,a[13]=t>>>16&255,a[14]=t>>>8&255,a[15]=255&t,a}function Zt(e,t,a){function r(c,o,n,i){if(typeof c=="string"&&(c=function(l){l=unescape(encodeURIComponent(l));for(var f=[],g=0;g<l.length;++g)f.push(l.charCodeAt(g));return f}(c)),typeof o=="string"&&(o=Gt(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+c.length);if(u.set(o),u.set(c,o.length),(u=a(u))[6]=15&u[6]|t,u[8]=63&u[8]|128,n){i=i||0;for(var s=0;s<16;++s)n[i+s]=u[s];return n}return Ve(u)}try{r.name=e}catch{}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Ct(e){return 14+(e+64>>>9<<4)+1}function ue(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function He(e,t,a,r,c,o){return ue((n=ue(ue(t,e),ue(r,o)))<<(i=c)|n>>>32-i,a);var n,i}function J(e,t,a,r,c,o,n){return He(t&a|~t&r,e,t,c,o,n)}function W(e,t,a,r,c,o,n){return He(t&r|a&~r,e,t,c,o,n)}function B(e,t,a,r,c,o,n){return He(t^a^r,e,t,c,o,n)}function G(e,t,a,r,c,o,n){return He(a^(t|~r),e,t,c,o,n)}var An=Zt("v3",48,function(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var a=0;a<t.length;++a)e[a]=t.charCodeAt(a)}return function(r){for(var c=[],o=32*r.length,n="0123456789abcdef",i=0;i<o;i+=8){var u=r[i>>5]>>>i%32&255,s=parseInt(n.charAt(u>>>4&15)+n.charAt(15&u),16);c.push(s)}return c}(function(r,c){r[c>>5]|=128<<c%32,r[Ct(c)-1]=c;for(var o=1732584193,n=-271733879,i=-1732584194,u=271733878,s=0;s<r.length;s+=16){var l=o,f=n,g=i,y=u;o=J(o,n,i,u,r[s],7,-680876936),u=J(u,o,n,i,r[s+1],12,-389564586),i=J(i,u,o,n,r[s+2],17,606105819),n=J(n,i,u,o,r[s+3],22,-1044525330),o=J(o,n,i,u,r[s+4],7,-176418897),u=J(u,o,n,i,r[s+5],12,1200080426),i=J(i,u,o,n,r[s+6],17,-1473231341),n=J(n,i,u,o,r[s+7],22,-45705983),o=J(o,n,i,u,r[s+8],7,1770035416),u=J(u,o,n,i,r[s+9],12,-1958414417),i=J(i,u,o,n,r[s+10],17,-42063),n=J(n,i,u,o,r[s+11],22,-1990404162),o=J(o,n,i,u,r[s+12],7,1804603682),u=J(u,o,n,i,r[s+13],12,-40341101),i=J(i,u,o,n,r[s+14],17,-1502002290),o=W(o,n=J(n,i,u,o,r[s+15],22,1236535329),i,u,r[s+1],5,-165796510),u=W(u,o,n,i,r[s+6],9,-1069501632),i=W(i,u,o,n,r[s+11],14,643717713),n=W(n,i,u,o,r[s],20,-373897302),o=W(o,n,i,u,r[s+5],5,-701558691),u=W(u,o,n,i,r[s+10],9,38016083),i=W(i,u,o,n,r[s+15],14,-660478335),n=W(n,i,u,o,r[s+4],20,-405537848),o=W(o,n,i,u,r[s+9],5,568446438),u=W(u,o,n,i,r[s+14],9,-1019803690),i=W(i,u,o,n,r[s+3],14,-187363961),n=W(n,i,u,o,r[s+8],20,1163531501),o=W(o,n,i,u,r[s+13],5,-1444681467),u=W(u,o,n,i,r[s+2],9,-51403784),i=W(i,u,o,n,r[s+7],14,1735328473),o=B(o,n=W(n,i,u,o,r[s+12],20,-1926607734),i,u,r[s+5],4,-378558),u=B(u,o,n,i,r[s+8],11,-2022574463),i=B(i,u,o,n,r[s+11],16,1839030562),n=B(n,i,u,o,r[s+14],23,-35309556),o=B(o,n,i,u,r[s+1],4,-1530992060),u=B(u,o,n,i,r[s+4],11,1272893353),i=B(i,u,o,n,r[s+7],16,-155497632),n=B(n,i,u,o,r[s+10],23,-1094730640),o=B(o,n,i,u,r[s+13],4,681279174),u=B(u,o,n,i,r[s],11,-358537222),i=B(i,u,o,n,r[s+3],16,-722521979),n=B(n,i,u,o,r[s+6],23,76029189),o=B(o,n,i,u,r[s+9],4,-640364487),u=B(u,o,n,i,r[s+12],11,-421815835),i=B(i,u,o,n,r[s+15],16,530742520),o=G(o,n=B(n,i,u,o,r[s+2],23,-995338651),i,u,r[s],6,-198630844),u=G(u,o,n,i,r[s+7],10,1126891415),i=G(i,u,o,n,r[s+14],15,-1416354905),n=G(n,i,u,o,r[s+5],21,-57434055),o=G(o,n,i,u,r[s+12],6,1700485571),u=G(u,o,n,i,r[s+3],10,-1894986606),i=G(i,u,o,n,r[s+10],15,-1051523),n=G(n,i,u,o,r[s+1],21,-2054922799),o=G(o,n,i,u,r[s+8],6,1873313359),u=G(u,o,n,i,r[s+15],10,-30611744),i=G(i,u,o,n,r[s+6],15,-1560198380),n=G(n,i,u,o,r[s+13],21,1309151649),o=G(o,n,i,u,r[s+4],6,-145523070),u=G(u,o,n,i,r[s+11],10,-1120210379),i=G(i,u,o,n,r[s+2],15,718787259),n=G(n,i,u,o,r[s+9],21,-343485551),o=ue(o,l),n=ue(n,f),i=ue(i,g),u=ue(u,y)}return[o,n,i,u]}(function(r){if(r.length===0)return[];for(var c=8*r.length,o=new Uint32Array(Ct(c)),n=0;n<c;n+=8)o[n>>5]|=(255&r[n/8])<<n%32;return o}(e),8*e.length))}),Fn=An;function Nn(e,t,a,r){switch(e){case 0:return t&a^~t&r;case 1:case 3:return t^a^r;case 2:return t&a^t&r^a&r}}function Ye(e,t){return e<<t|e>>>32-t}var Mn=Zt("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var c=0;c<r.length;++c)e.push(r.charCodeAt(c))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,n=Math.ceil(o/16),i=new Array(n),u=0;u<n;++u){for(var s=new Uint32Array(16),l=0;l<16;++l)s[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];i[u]=s}i[n-1][14]=8*(e.length-1)/Math.pow(2,32),i[n-1][14]=Math.floor(i[n-1][14]),i[n-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<n;++f){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=i[f][y];for(var v=16;v<80;++v)g[v]=Ye(g[v-3]^g[v-8]^g[v-14]^g[v-16],1);for(var w=a[0],O=a[1],b=a[2],E=a[3],D=a[4],A=0;A<80;++A){var d=Math.floor(A/20),I=Ye(w,5)+Nn(d,O,b,E)+D+t[d]+g[A]>>>0;D=E,E=b,b=Ye(O,30)>>>0,O=w,w=I}a[0]=a[0]+w>>>0,a[1]=a[1]+O>>>0,a[2]=a[2]+b>>>0,a[3]=a[3]+E>>>0,a[4]=a[4]+D>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]}),Vn=Mn,ft=Object.freeze({__proto__:null,v1:function(e,t,a){var r=t&&a||0,c=t||new Array(16),o=(e=e||{}).node||Dt,n=e.clockseq!==void 0?e.clockseq:Be;if(o==null||n==null){var i=e.random||(e.rng||Ot)();o==null&&(o=Dt=[1|i[0],i[1],i[2],i[3],i[4],i[5]]),n==null&&(n=Be=16383&(i[6]<<8|i[7]))}var u=e.msecs!==void 0?e.msecs:Date.now(),s=e.nsecs!==void 0?e.nsecs:Xe+1,l=u-Ze+(s-Xe)/1e4;if(l<0&&e.clockseq===void 0&&(n=n+1&16383),(l<0||u>Ze)&&e.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ze=u,Xe=s,Be=n;var f=(1e4*(268435455&(u+=122192928e5))+s)%4294967296;c[r++]=f>>>24&255,c[r++]=f>>>16&255,c[r++]=f>>>8&255,c[r++]=255&f;var g=u/4294967296*1e4&268435455;c[r++]=g>>>8&255,c[r++]=255&g,c[r++]=g>>>24&15|16,c[r++]=g>>>16&255,c[r++]=n>>>8|128,c[r++]=255&n;for(var y=0;y<6;++y)c[r+y]=o[y];return t||Ve(c)},v3:Fn,v4:function(e,t,a){var r=(e=e||{}).random||(e.rng||Ot)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(var c=0;c<16;++c)t[a+c]=r[c];return t}return Ve(r)},v5:Vn,NIL:"00000000-0000-0000-0000-000000000000",version:function(e){if(!qe(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)},validate:qe,stringify:Ve,parse:Gt});const ke=["debug","info","warn","error","none"];var dt={commonBasicLogger:function(e,t){if(e&&e.destination&&typeof e.destination!="function")throw new Error("destination for basicLogger was set to a non-function");function a(s){return function(l){console&&console[s]&&console[s].call(console,l)}}const r=e&&e.destination?[e.destination,e.destination,e.destination,e.destination]:[a("log"),a("info"),a("warn"),a("error")],c=!(!e||!e.destination),o=e&&e.prefix!==void 0&&e.prefix!==null?e.prefix:"[LaunchDarkly] ";let n=1;if(e&&e.level)for(let s=0;s<ke.length;s++)ke[s]===e.level&&(n=s);function i(s,l,f){if(f.length<1)return;let g;const y=c?l+": "+o:o;if(f.length!==1&&t){const v=[...f];v[0]=y+v[0],g=t(...v)}else g=y+f[0];try{r[s](g)}catch(v){console&&console.log&&console.log("[LaunchDarkly] Configured logger's "+l+" method threw an exception: "+v)}}const u={};for(let s=0;s<ke.length;s++){const l=ke[s];if(l!=="none")if(s<n)u[l]=()=>{};else{const f=s;u[l]=function(){i(f,l,arguments)}}}return u},validateLogger:function(e){ke.forEach(t=>{if(t!=="none"&&(!e[t]||typeof e[t]!="function"))throw new Error("Provided logger instance must support logger."+t+"(...) method")})}};function je(e){return e&&e.message?e.message:typeof e=="string"||e instanceof String?e:JSON.stringify(e)}const pe=" Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initialize-the-client for instructions on SDK initialization.";var C={bootstrapInvalid:function(){return"LaunchDarkly bootstrap data is not available because the back end could not read the flags."},bootstrapOldFormat:function(){return"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly."+pe},clientInitialized:function(){return"LaunchDarkly client initialized"},clientNotReady:function(){return"LaunchDarkly client is not ready"},debugEnqueueingEvent:function(e){return'enqueueing "'+e+'" event'},debugPostingDiagnosticEvent:function(e){return"sending diagnostic event ("+e.kind+")"},debugPostingEvents:function(e){return"sending "+e+" events"},debugStreamDelete:function(e){return'received streaming deletion for flag "'+e+'"'},debugStreamDeleteIgnored:function(e){return'received streaming deletion for flag "'+e+'" but ignored due to version check'},debugStreamPatch:function(e){return'received streaming update for flag "'+e+'"'},debugStreamPatchIgnored:function(e){return'received streaming update for flag "'+e+'" but ignored due to version check'},debugStreamPing:function(){return"received ping message from stream"},debugPolling:function(e){return"polling for feature flags at "+e},debugStreamPut:function(){return"received streaming update for all flags"},deprecated:function(e,t){return t?'"'+e+'" is deprecated, please use "'+t+'"':'"'+e+'" is deprecated'},environmentNotFound:function(){return"Environment not found. Double check that you specified a valid environment/client-side ID."+pe},environmentNotSpecified:function(){return"No environment/client-side ID was specified."+pe},errorFetchingFlags:function(e){return"Error fetching flag settings: "+je(e)},eventCapacityExceeded:function(){return"Exceeded event queue capacity. Increase capacity to avoid dropping events."},eventWithoutContext:function(){return"Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"},httpErrorMessage:function(e,t,a){return"Received error "+e+(e===401?" (invalid SDK key)":"")+" for "+t+" - "+(_.isHttpErrorRecoverable(e)?a:"giving up permanently")},httpUnavailable:function(){return"Cannot make HTTP requests in this environment."+pe},identifyDisabled:function(){return"identify() has no effect here; it must be called on the main client instance"},inspectorMethodError:(e,t)=>`an inspector: "${t}" of type: "${e}" generated an exception`,invalidContentType:function(e){return'Expected application/json content type but got "'+e+'"'},invalidData:function(){return"Invalid data received from LaunchDarkly; connection may have been interrupted"},invalidInspector:(e,t)=>`an inspector: "${t}" of an invalid type (${e}) was configured`,invalidKey:function(){return"Event key must be a string"},invalidMetricValue:e=>`The track function was called with a non-numeric "metricValue" (${e}), only numeric metric values are supported.`,invalidContext:function(){return"Invalid context specified."+pe},invalidTagValue:e=>`Config option "${e}" must only contain letters, numbers, ., _ or -.`,localStorageUnavailable:function(e){return"local storage is unavailable: "+je(e)},networkError:e=>"network error"+(e?" ("+e+")":""),optionBelowMinimum:(e,t,a)=>'Config option "'+e+'" was set to '+t+", changing to minimum value of "+a,streamClosing:function(){return"Closing stream connection"},streamConnecting:function(e){return"Opening stream connection to "+e},streamError:function(e,t){return"Error on stream connection: "+je(e)+", will continue retrying after "+t+" milliseconds."},tagValueTooLong:e=>`Value of "${e}" was longer than 64 characters and was discarded.`,unknownCustomEventKey:function(e){return'Custom event "'+e+'" does not exist'},unknownOption:e=>'Ignoring unknown config option "'+e+'"',contextNotSpecified:function(){return"No context specified."+pe},unrecoverableStreamError:e=>`Error on stream connection ${je(e)}, giving up permanently`,wrongOptionType:(e,t,a)=>'Config option "'+e+'" should be of type '+t+", got "+a+", using default value",wrongOptionTypeBoolean:(e,t)=>'Config option "'+e+'" should be a boolean, got '+t+", converting to boolean"};const{validateLogger:$n}=dt,Pt={baseUrl:{default:"https://app.launchdarkly.com"},streamUrl:{default:"https://clientstream.launchdarkly.com"},eventsUrl:{default:"https://events.launchdarkly.com"},sendEvents:{default:!0},streaming:{type:"boolean"},sendLDHeaders:{default:!0},requestHeaderTransform:{type:"function"},sendEventsOnlyForVariation:{default:!1},useReport:{default:!1},evaluationReasons:{default:!1},eventCapacity:{default:100,minimum:1},flushInterval:{default:2e3,minimum:2e3},samplingInterval:{default:0,minimum:0},streamReconnectDelay:{default:1e3,minimum:0},allAttributesPrivate:{default:!1},privateAttributes:{default:[]},bootstrap:{type:"string|object"},diagnosticRecordingInterval:{default:9e5,minimum:2e3},diagnosticOptOut:{default:!1},wrapperName:{type:"string"},wrapperVersion:{type:"string"},stateProvider:{type:"object"},application:{validator:function(e,t,a){const r={};return t.id&&(r.id=It(`${e}.id`,t.id,a)),t.version&&(r.version=It(`${e}.version`,t.version,a)),r}},inspectors:{default:[]}},qn=/^(\w|\.|-)+$/;function Qe(e){return e&&e.replace(/\/+$/,"")}function It(e,t,a){if(typeof t=="string"&&t.match(qn)){if(!(t.length>64))return t;a.warn(C.tagValueTooLong(e))}else a.warn(C.invalidTagValue(e))}var pt={baseOptionDefs:Pt,validate:function(e,t,a,r){const c=T.extend({logger:{default:r}},Pt,a),o={};function n(u){T.onNextTick(()=>{t&&t.maybeReportError(new _.LDInvalidArgumentError(u))})}let i=T.extend({},e||{});return function(u){const s=u;Object.keys(o).forEach(l=>{if(s[l]!==void 0){const f=o[l];r&&r.warn(C.deprecated(l,f)),f&&(s[f]===void 0&&(s[f]=s[l]),delete s[l])}})}(i),i=function(u){const s=T.extend({},u);return Object.keys(c).forEach(l=>{s[l]!==void 0&&s[l]!==null||(s[l]=c[l]&&c[l].default)}),s}(i),i=function(u){const s=T.extend({},u),l=f=>{if(f===null)return"any";if(f===void 0)return;if(Array.isArray(f))return"array";const g=typeof f;return g==="boolean"||g==="string"||g==="number"||g==="function"?g:"object"};return Object.keys(u).forEach(f=>{const g=u[f];if(g!=null){const y=c[f];if(y===void 0)n(C.unknownOption(f));else{const v=y.type||l(y.default),w=y.validator;if(w){const O=w(f,u[f],r);O!==void 0?s[f]=O:delete s[f]}else if(v!=="any"){const O=v.split("|"),b=l(g);O.indexOf(b)<0?v==="boolean"?(s[f]=!!g,n(C.wrongOptionTypeBoolean(f,b))):(n(C.wrongOptionType(f,v,b)),s[f]=y.default):b==="number"&&y.minimum!==void 0&&g<y.minimum&&(n(C.optionBelowMinimum(f,g,y.minimum)),s[f]=y.minimum)}}}}),s.baseUrl=Qe(s.baseUrl),s.streamUrl=Qe(s.streamUrl),s.eventsUrl=Qe(s.eventsUrl),s}(i),$n(i.logger),i},getTags:function(e){const t={};return e&&(e.application&&e.application.id!==void 0&&e.application.id!==null&&(t["application-id"]=[e.application.id]),e.application&&e.application.version!==void 0&&e.application.id!==null&&(t["application-version"]=[e.application.version])),t}};const{getLDUserAgentString:_n}=T;var gt={getLDHeaders:function(e,t){if(t&&!t.sendLDHeaders)return{};const a={};a[e.userAgentHeaderName||"User-Agent"]=_n(e),t&&t.wrapperName&&(a["X-LaunchDarkly-Wrapper"]=t.wrapperVersion?t.wrapperName+"/"+t.wrapperVersion:t.wrapperName);const r=pt.getTags(t),c=Object.keys(r);return c.length&&(a["x-launchdarkly-tags"]=c.sort().map(o=>Array.isArray(r[o])?r[o].sort().map(n=>`${o}/${n}`):[`${o}/${r[o]}`]).reduce((o,n)=>o.concat(n),[]).join(" ")),a},transformHeaders:function(e,t){return t&&t.requestHeaderTransform?t.requestHeaderTransform({...e}):e}};const{v1:Hn}=ft,{getLDHeaders:zn,transformHeaders:Kn}=gt;var Xt=function(e,t,a){const r=T.extend({"Content-Type":"application/json"},zn(e,a)),c={};return c.sendEvents=(o,n,i)=>{if(!e.httpRequest)return Promise.resolve();const u=JSON.stringify(o),s=i?null:Hn();return function l(f){const g=i?r:T.extend({},r,{"X-LaunchDarkly-Event-Schema":"4","X-LaunchDarkly-Payload-ID":s});return e.httpRequest("POST",n,Kn(g,a),u).promise.then(y=>{if(y)return y.status>=400&&_.isHttpErrorRecoverable(y.status)&&f?l(!1):function(v){const w={status:v.status},O=v.header("date");if(O){const b=Date.parse(O);b&&(w.serverTime=b)}return w}(y)}).catch(()=>f?l(!1):Promise.reject())}(!0).catch(()=>{})},c};const{commonBasicLogger:Jn}=dt;function Tt(e){return typeof e=="string"&&e!=="kind"&&e.match(/^(\w|\.|-)+$/)}var ze={checkContext:function(e,t){if(e){if(t&&(e.kind===void 0||e.kind===null))return e.key!==void 0&&e.key!==null;const a=e.key,r=e.kind===void 0?"user":e.kind,c=Tt(r),o=r==="multi"||a!=null&&a!=="";if(r==="multi"){const n=Object.keys(e).filter(i=>i!=="kind");return o&&n.every(i=>Tt(i))&&n.every(i=>{const u=e[i].key;return u!=null&&u!==""})}return o&&c}return!1},getContextKeys:function(e,t=Jn()){if(!e)return;const a={},{kind:r,key:c}=e;switch(r){case void 0:a.user=`${c}`;break;case"multi":Object.entries(e).filter(([o])=>o!=="kind").forEach(([o,n])=>{n&&n.key&&(a[o]=n.key)});break;case null:t.warn(`null is not a valid context kind: ${e}`);break;case"":t.warn(`'' is not a valid context kind: ${e}`);break;default:a[r]=`${c}`}return a},getContextKinds:function(e){return e?e.kind===null||e.kind===void 0?["user"]:e.kind!=="multi"?[e.kind]:Object.keys(e).filter(t=>t!=="kind"):[]}};const{getContextKinds:Wn}=ze;var Bn=function(){const e={};let t=0,a=0,r={},c={};return e.summarizeEvent=o=>{if(o.kind==="feature"){const n=o.key+":"+(o.variation!==null&&o.variation!==void 0?o.variation:"")+":"+(o.version!==null&&o.version!==void 0?o.version:""),i=r[n];let u=c[o.key];u||(u=new Set,c[o.key]=u),function(s){return s.context?Wn(s.context):s.contextKeys?Object.keys(s.contextKeys):[]}(o).forEach(s=>u.add(s)),i?i.count=i.count+1:r[n]={count:1,key:o.key,version:o.version,variation:o.variation,value:o.value,default:o.default},(t===0||o.creationDate<t)&&(t=o.creationDate),o.creationDate>a&&(a=o.creationDate)}},e.getSummary=()=>{const o={};let n=!0;for(const i of Object.values(r)){let u=o[i.key];u||(u={default:i.default,counters:[],contextKinds:[...c[i.key]]},o[i.key]=u);const s={value:i.value,count:i.count};i.variation!==void 0&&i.variation!==null&&(s.variation=i.variation),i.version!==void 0&&i.version!==null?s.version=i.version:s.unknown=!0,u.counters.push(s),n=!1}return n?null:{startDate:t,endDate:a,features:o}},e.clearSummary=()=>{t=0,a=0,r={},c={}},e};function Yt(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function Rt(e){return(e.startsWith("/")?e.substring(1):e).split("/").map(t=>t.indexOf("~")>=0?t.replace(/~1/g,"/").replace(/~0/g,"~"):t)}function jt(e){return!e.startsWith("/")}function Lt(e,t){const a=jt(e),r=jt(t);if(a&&r)return e===t;if(a){const c=Rt(t);return c.length===1&&e===c[0]}if(r){const c=Rt(e);return c.length===1&&t===c[0]}return e===t}function Ut(e){return`/${Yt(e)}`}var et={cloneExcluding:function(e,t){const a=[],r={},c=[];for(a.push(...Object.keys(e).map(o=>({key:o,ptr:Ut(o),source:e,parent:r,visited:[e]})));a.length;){const o=a.pop();if(t.some(n=>Lt(n,o.ptr)))c.push(o.ptr);else{const n=o.source[o.key];if(n===null)o.parent[o.key]=n;else if(Array.isArray(n))o.parent[o.key]=[...n];else if(typeof n=="object"){if(o.visited.includes(n))continue;o.parent[o.key]={},a.push(...Object.keys(n).map(i=>{return{key:i,ptr:(u=o.ptr,s=Yt(i),`${u}/${s}`),source:n,parent:o.parent[o.key],visited:[...o.visited,n]};var u,s}))}else o.parent[o.key]=n}}return{cloned:r,excluded:c.sort()}},compare:Lt,literalToReference:Ut},Gn=function(e){const t={},a=e.allAttributesPrivate,r=e.privateAttributes||[],c=["key","kind","_meta","anonymous"],o=["name","ip","firstName","lastName","email","avatar","country"],n=(i,u)=>{if(typeof i!="object"||i===null||Array.isArray(i))return;const{cloned:s,excluded:l}=et.cloneExcluding(i,((f,g)=>(a||g&&f.anonymous?Object.keys(f):[...r,...f._meta&&f._meta.privateAttributes||[]]).filter(y=>!c.some(v=>et.compare(y,v))))(i,u));return s.key=String(s.key),l.length&&(s._meta||(s._meta={}),s._meta.redactedAttributes=l),s._meta&&(delete s._meta.privateAttributes,Object.keys(s._meta).length===0&&delete s._meta),s.anonymous!==void 0&&(s.anonymous=!!s.anonymous),s};return t.filter=(i,u=!1)=>i.kind===void 0||i.kind===null?n((s=>{const l={...s.custom||{},kind:"user",key:s.key};s.anonymous!==void 0&&(l.anonymous=!!s.anonymous);for(const f of o)delete l[f],s[f]!==void 0&&s[f]!==null&&(l[f]=String(s[f]));return s.privateAttributeNames!==void 0&&s.privateAttributeNames!==null&&(l._meta=l._meta||{},l._meta.privateAttributes=s.privateAttributeNames.map(f=>f.startsWith("/")?et.literalToReference(f):f)),l})(i),u):i.kind==="multi"?((s,l)=>{const f={kind:s.kind},g=Object.keys(s);for(const y of g)if(y!=="kind"){const v=n(s[y],l);v&&(f[y]=v)}return f})(i,u):n(i,u),t};const{getContextKeys:Zn}=ze;var Xn=function(e,t,a,r=null,c=null,o=null){const n={},i=o||Xt(e,a,t),u=T.appendUrlPath(t.eventsUrl,"/events/bulk/"+a),s=Bn(),l=Gn(t),f=t.samplingInterval,g=t.eventCapacity,y=t.flushInterval,v=t.logger;let w,O=[],b=0,E=!1,D=!1;function A(){return f===0||Math.floor(Math.random()*f)===0}function d(S){const P=T.extend({},S);return S.kind==="identify"?P.context=l.filter(S.context):S.kind==="feature"?P.context=l.filter(S.context,!0):(P.contextKeys=Zn(S.context,v),delete P.context),S.kind==="feature"&&(delete P.trackEvents,delete P.debugEventsUntilDate),P}function I(S){O.length<g?(O.push(S),D=!1):(D||(D=!0,v.warn(C.eventCapacityExceeded())),r&&r.incrementDroppedEvents())}return n.enqueue=function(S){if(E)return;let P=!1,k=!1;var R;if(s.summarizeEvent(S),S.kind==="feature"?A()&&(P=!!S.trackEvents,k=!!(R=S).debugEventsUntilDate&&R.debugEventsUntilDate>b&&R.debugEventsUntilDate>new Date().getTime()):P=A(),P&&I(d(S)),k){const F=T.extend({},S,{kind:"debug"});F.context=l.filter(F.context),delete F.trackEvents,delete F.debugEventsUntilDate,I(F)}},n.flush=function(){if(E)return Promise.resolve();const S=O,P=s.getSummary();return s.clearSummary(),P&&(P.kind="summary",S.push(P)),r&&r.setEventsInLastBatch(S.length),S.length===0?Promise.resolve():(O=[],v.debug(C.debugPostingEvents(S.length)),i.sendEvents(S,u).then(k=>{k&&(k.serverTime&&(b=k.serverTime),_.isHttpErrorRecoverable(k.status)||(E=!0),k.status>=400&&T.onNextTick(()=>{c.maybeReportError(new _.LDUnexpectedResponseError(C.httpErrorMessage(k.status,"event posting","some events were dropped")))}))}))},n.start=function(){const S=()=>{n.flush(),w=setTimeout(S,y)};w=setTimeout(S,y)},n.stop=function(){clearTimeout(w)},n},Yn=function(e){const t={},a={};return t.on=function(r,c,o){a[r]=a[r]||[],a[r]=a[r].concat({handler:c,context:o})},t.off=function(r,c,o){if(a[r])for(let n=0;n<a[r].length;n++)a[r][n].handler===c&&a[r][n].context===o&&(a[r]=a[r].slice(0,n).concat(a[r].slice(n+1)))},t.emit=function(r){if(!a[r])return;const c=a[r].slice(0);for(let o=0;o<c.length;o++)c[o].handler.apply(c[o].context,Array.prototype.slice.call(arguments,1))},t.getEvents=function(){return Object.keys(a)},t.getEventListenerCount=function(r){return a[r]?a[r].length:0},t.maybeReportError=function(r){r&&(a.error?this.emit("error",r):(e||console).error(r.message))},t};const Le="ready",tt="initialized",nt="failed";var Qn=function(e){let t=!1,a=!1,r=null,c=null;const o=new Promise(n=>{const i=()=>{e.off(Le,i),n()};e.on(Le,i)}).catch(()=>{});return{getInitializationPromise:()=>c||(t?Promise.resolve():a?Promise.reject(r):(c=new Promise((n,i)=>{const u=()=>{e.off(tt,u),n()},s=l=>{e.off(nt,s),i(l)};e.on(tt,u),e.on(nt,s)}),c)),getReadyPromise:()=>o,signalSuccess:()=>{t||a||(t=!0,e.emit(tt),e.emit(Le))},signalFailure:n=>{t||a||(a=!0,r=n,e.emit(nt,n),e.emit(Le)),e.maybeReportError(n)}}},er=function(e,t,a,r){const c={};function o(){let n="";const i=r.getContext();return i&&(n=a||T.btoa(JSON.stringify(i))),"ld:"+t+":"+n}return c.loadFlags=()=>e.get(o()).then(n=>{if(n==null)return null;try{let i=JSON.parse(n);if(i){const u=i.$schema;u===void 0||u<1?i=T.transformValuesToVersionedValues(i):delete i.$schema}return i}catch{return c.clearFlags().then(()=>null)}}),c.saveFlags=n=>{const i=T.extend({},n,{$schema:1});return e.set(o(),JSON.stringify(i))},c.clearFlags=()=>e.clear(o()),c},tr=function(e,t){const a={};let r=!1;const c=o=>{r||(r=!0,t.warn(C.localStorageUnavailable(o)))};return a.isEnabled=()=>!!e,a.get=o=>new Promise(n=>{e?e.get(o).then(n).catch(i=>{c(i),n(void 0)}):n(void 0)}),a.set=(o,n)=>new Promise(i=>{e?e.set(o,n).then(()=>i(!0)).catch(u=>{c(u),i(!1)}):i(!1)}),a.clear=o=>new Promise(n=>{e?e.clear(o).then(()=>n(!0)).catch(i=>{c(i),n(!1)}):n(!1)}),a};const{appendUrlPath:At,base64URLEncode:nr,objectHasOwnProperty:rr}=T,{getLDHeaders:or,transformHeaders:ar}=gt,{isHttpErrorRecoverable:ir}=_;var ur=function(e,t,a,r){const c=t.streamUrl,o=t.logger,n={},i=At(c,"/eval/"+a),u=t.useReport,s=t.evaluationReasons,l=t.streamReconnectDelay,f=or(e,t);let g,y=!1,v=null,w=null,O=null,b=null,E=null,D=0;function A(){const R=(F=function(){const V=l*Math.pow(2,D);return V>3e4?3e4:V}(),F-Math.trunc(.5*Math.random()*F));var F;return D+=1,R}function d(R){if(R.status&&typeof R.status=="number"&&!ir(R.status))return P(),o.error(C.unrecoverableStreamError(R)),void(w&&(clearTimeout(w),w=null));const F=A();y||(o.warn(C.streamError(R,F)),y=!0),k(!1),P(),I(F)}function I(R){w||(R?w=setTimeout(S,R):S())}function S(){let R;w=null;let F="";const V={headers:f,readTimeoutMillis:3e5};if(e.eventSourceFactory){b!=null&&(F="h="+b),u?e.eventSourceAllowsReport?(R=i,V.method="REPORT",V.headers["Content-Type"]="application/json",V.body=JSON.stringify(O)):(R=At(c,"/ping/"+a),F=""):R=i+"/"+nr(JSON.stringify(O)),V.headers=ar(V.headers,t),s&&(F=F+(F?"&":"")+"withReasons=true"),R=R+(F?"?":"")+F,P(),o.info(C.streamConnecting(R)),g=new Date().getTime(),v=e.eventSourceFactory(R,V);for(const X in E)rr(E,X)&&v.addEventListener(X,E[X]);v.onerror=d,v.onopen=()=>{D=0}}}function P(){v&&(o.info(C.streamClosing()),v.close(),v=null)}function k(R){g&&r&&r.recordStreamInit(g,!R,new Date().getTime()-g),g=null}return n.connect=function(R,F,V){O=R,b=F,E={};for(const X in V||{})E[X]=function(Z){y=!1,k(!0),V[X]&&V[X](Z)};I()},n.disconnect=function(){clearTimeout(w),w=null,P()},n.isConnected=function(){return!!(v&&e.eventSourceIsActive&&e.eventSourceIsActive(v))},n},sr=function(e){let t,a,r,c;const o={addPromise:(n,i)=>{t=n,a&&a(),a=i,n.then(u=>{t===n&&(r(u),e&&e())},u=>{t===n&&(c(u),e&&e())})}};return o.resultPromise=new Promise((n,i)=>{r=n,c=i}),o};const{transformHeaders:cr,getLDHeaders:lr}=gt,Ft="application/json";var fr=function(e,t,a){const r=t.baseUrl,c=t.useReport,o=t.evaluationReasons,n=t.logger,i={},u={};function s(l,f){if(!e.httpRequest)return new Promise((b,E)=>{E(new _.LDFlagFetchError(C.httpUnavailable()))});const g=f?"REPORT":"GET",y=lr(e,t);f&&(y["Content-Type"]=Ft);let v=u[l];v||(v=sr(()=>{delete u[l]}),u[l]=v);const w=e.httpRequest(g,l,cr(y,t),f),O=w.promise.then(b=>{if(b.status===200){if(b.header("content-type")&&b.header("content-type").substring(0,16)===Ft)return JSON.parse(b.body);{const E=C.invalidContentType(b.header("content-type")||"");return Promise.reject(new _.LDFlagFetchError(E))}}return Promise.reject(function(E){return E.status===404?new _.LDInvalidEnvironmentIdError(C.environmentNotFound()):new _.LDFlagFetchError(C.errorFetchingFlags(E.statusText||String(E.status)))}(b))},b=>Promise.reject(new _.LDFlagFetchError(C.networkError(b))));return v.addPromise(O,()=>{w.cancel&&w.cancel()}),v.resultPromise}return i.fetchJSON=function(l){return s(T.appendUrlPath(r,l),null)},i.fetchFlagSettings=function(l,f){let g,y,v,w="";return c?(y=[r,"/sdk/evalx/",a,"/context"].join(""),v=JSON.stringify(l)):(g=T.base64URLEncode(JSON.stringify(l)),y=[r,"/sdk/evalx/",a,"/contexts/",g].join("")),f&&(w="h="+f),o&&(w=w+(w?"&":"")+"withReasons=true"),y=y+(w?"?":"")+w,n.debug(C.debugPolling(y)),s(y,v)},i},dr=function(e,t){const a={};let r;return a.setContext=function(c){r=T.sanitizeContext(c),r&&t&&t(T.clone(r))},a.getContext=function(){return r?T.clone(r):null},a};const{v1:pr}=ft,{getContextKinds:gr}=ze;var vr=function(e){function t(r){return r==null||r==="user"?"ld:$anonUserId":`ld:$contextKey:${r}`}function a(r,c){return c.key!==null&&c.key!==void 0?(c.key=c.key.toString(),Promise.resolve(c)):c.anonymous?function(o){return e.get(t(o))}(r).then(o=>{if(o)return c.key=o,c;{const n=pr();return c.key=n,function(i,u){return e.set(t(u),i)}(n,r).then(()=>c)}}):Promise.reject(new _.LDInvalidUserError(C.invalidContext()))}this.processContext=r=>{if(!r)return Promise.reject(new _.LDInvalidUserError(C.contextNotSpecified()));const c=T.clone(r);if(r.kind==="multi"){const o=gr(c);return Promise.all(o.map(n=>a(n,c[n]))).then(()=>c)}return a(r.kind,c)}};const{v1:mr}=ft,{baseOptionDefs:rt}=pt,{appendUrlPath:yr}=T;var ot={DiagnosticId:function(e){const t={diagnosticId:mr()};return e&&(t.sdkKeySuffix=e.length>6?e.substring(e.length-6):e),t},DiagnosticsAccumulator:function(e){let t,a,r,c;function o(n){t=n,a=0,r=0,c=[]}return o(e),{getProps:()=>({dataSinceDate:t,droppedEvents:a,eventsInLastBatch:r,streamInits:c}),setProps:n=>{t=n.dataSinceDate,a=n.droppedEvents||0,r=n.eventsInLastBatch||0,c=n.streamInits||[]},incrementDroppedEvents:()=>{a++},setEventsInLastBatch:n=>{r=n},recordStreamInit:(n,i,u)=>{const s={timestamp:n,failed:i,durationMillis:u};c.push(s)},reset:o}},DiagnosticsManager:function(e,t,a,r,c,o,n){const i=!!e.diagnosticUseCombinedEvent,u="ld:"+c+":$diagnostics",s=yr(o.eventsUrl,"/events/diagnostic/"+c),l=o.diagnosticRecordingInterval,f=a;let g,y,v=!!o.streaming;const w={};function O(){return{sdk:D(),configuration:A(),platform:e.diagnosticPlatformData}}function b(d){o.logger&&o.logger.debug(C.debugPostingDiagnosticEvent(d)),r.sendEvents(d,s,!0).then(()=>{}).catch(()=>{})}function E(){b(function(){const d=new Date().getTime();let I={kind:i?"diagnostic-combined":"diagnostic",id:n,creationDate:d,...f.getProps()};return i&&(I={...I,...O()}),f.reset(d),I}()),y=setTimeout(E,l),g=new Date().getTime(),i&&function(){if(t.isEnabled()){const d={...f.getProps()};t.set(u,JSON.stringify(d))}}()}function D(){const d={...e.diagnosticSdkData};return o.wrapperName&&(d.wrapperName=o.wrapperName),o.wrapperVersion&&(d.wrapperVersion=o.wrapperVersion),d}function A(){return{customBaseURI:o.baseUrl!==rt.baseUrl.default,customStreamURI:o.streamUrl!==rt.streamUrl.default,customEventsURI:o.eventsUrl!==rt.eventsUrl.default,eventsCapacity:o.eventCapacity,eventsFlushIntervalMillis:o.flushInterval,reconnectTimeMillis:o.streamReconnectDelay,streamingDisabled:!v,allAttributesPrivate:!!o.allAttributesPrivate,diagnosticRecordingIntervalMillis:o.diagnosticRecordingInterval,usingSecureMode:!!o.hash,bootstrapMode:!!o.bootstrap,fetchGoalsDisabled:!o.fetchGoals,sendEventsOnlyForVariation:!!o.sendEventsOnlyForVariation}}return w.start=()=>{i?function(d){if(!t.isEnabled())return d(!1);t.get(u).then(I=>{if(I)try{const S=JSON.parse(I);f.setProps(S),g=S.dataSinceDate}catch{}d(!0)}).catch(()=>{d(!1)})}(d=>{if(d){const I=(g||0)+l,S=new Date().getTime();S>=I?E():y=setTimeout(E,I-S)}else Math.floor(4*Math.random())===0?E():y=setTimeout(E,l)}):(b({kind:"diagnostic-init",id:n,creationDate:f.getProps().dataSinceDate,...O()}),y=setTimeout(E,l))},w.stop=()=>{y&&clearTimeout(y)},w.setStreaming=d=>{v=d},w}},hr=function(e,t){let a=!1;const r={type:e.type,name:e.name,synchronous:e.synchronous,method:(...c)=>{try{e.method(...c)}catch{a||(a=!0,t.warn(C.inspectorMethodError(r.type,r.name)))}}};return r};const{onNextTick:Ue}=T,Q={flagUsed:"flag-used",flagDetailsChanged:"flag-details-changed",flagDetailChanged:"flag-detail-changed",clientIdentityChanged:"client-identity-changed"};Object.freeze(Q);var br={InspectorTypes:Q,InspectorManager:function(e,t){const a={},r={[Q.flagUsed]:[],[Q.flagDetailsChanged]:[],[Q.flagDetailChanged]:[],[Q.clientIdentityChanged]:[]},c={[Q.flagUsed]:[],[Q.flagDetailsChanged]:[],[Q.flagDetailChanged]:[],[Q.clientIdentityChanged]:[]},o=e&&e.map(n=>hr(n,t));return o&&o.forEach(n=>{Object.prototype.hasOwnProperty.call(r,n.type)&&!n.synchronous?r[n.type].push(n):Object.prototype.hasOwnProperty.call(c,n.type)&&n.synchronous?c[n.type].push(n):t.warn(C.invalidInspector(n.type,n.name))}),a.hasListeners=n=>r[n]&&r[n].length||c[n]&&c[n].length,a.onFlagUsed=(n,i,u)=>{const s=Q.flagUsed;c[s].length&&c[s].forEach(l=>l.method(n,i,u)),r[s].length&&Ue(()=>{r[s].forEach(l=>l.method(n,i,u))})},a.onFlags=n=>{const i=Q.flagDetailsChanged;c[i].length&&c[i].forEach(u=>u.method(n)),r[i].length&&Ue(()=>{r[i].forEach(u=>u.method(n))})},a.onFlagChanged=(n,i)=>{const u=Q.flagDetailChanged;c[u].length&&c[u].forEach(s=>s.method(n,i)),r[u].length&&Ue(()=>{r[u].forEach(s=>s.method(n,i))})},a.onIdentityChanged=n=>{const i=Q.clientIdentityChanged;c[i].length&&c[i].forEach(u=>u.method(n)),r[i].length&&Ue(()=>{r[i].forEach(u=>u.method(n))})},a}};const{LDTimeoutError:wr}=_;var xr=function(e,t){return new Promise((a,r)=>{setTimeout(()=>{r(new wr(`${t} timed out after ${e} seconds.`))},1e3*e)})};const{commonBasicLogger:Er}=dt,{checkContext:kr}=ze,{InspectorTypes:Ae,InspectorManager:Sr}=br,Fe="change",Nt="internal-change";var Qt={initialize:function(e,t,a,r,c){const o=function(){return a&&a.logger?a.logger:c&&c.logger&&c.logger.default||Er("warn")}(),n=Yn(o),i=Qn(n),u=pt.validate(a,n,c,o),s=Sr(u.inspectors,o),l=u.sendEvents;let f=e,g=u.hash;const y=tr(r.localStorage,o),v=Xt(r,f,u),w=u.sendEvents&&!u.diagnosticOptOut,O=w?ot.DiagnosticId(f):null,b=w?ot.DiagnosticsAccumulator(new Date().getTime()):null,E=w?ot.DiagnosticsManager(r,y,b,v,f,u,O):null,D=ur(r,u,f,b),A=u.eventProcessor||Xn(r,u,f,b,n,v),d=fr(r,u,f);let I,S,P,k={},R=u.streaming,F=!1,V=!1,X=!0;const Z=u.stateProvider,H=dr(null,function(p){(function(h){Z||h&&ce({kind:"identify",context:h,creationDate:new Date().getTime()})})(p),s.hasListeners(Ae.clientIdentityChanged)&&s.onIdentityChanged(H.getContext())}),ge=new vr(y),re=y.isEnabled()?er(y,f,g,H):null;function ce(p){f&&(Z&&Z.enqueueEvent&&Z.enqueueEvent(p)||(p.context?(X=!1,!l||V||r.isDoNotTrack()||(o.debug(C.debugEnqueueingEvent(p.kind)),A.enqueue(p))):X&&(o.warn(C.eventWithoutContext()),X=!1)))}function ve(p,h){s.hasListeners(Ae.flagDetailChanged)&&s.onFlagChanged(p.key,oe(h))}function Se(){s.hasListeners(Ae.flagDetailsChanged)&&s.onFlags(Object.entries(k).map(([p,h])=>({key:p,detail:oe(h)})).reduce((p,h)=>(p[h.key]=h.detail,p),{}))}function me(p,h,m,U){const j=H.getContext(),z=new Date,N={kind:"feature",key:p,context:j,value:h?h.value:null,variation:h?h.variationIndex:null,default:m,creationDate:z.getTime()},q=k[p];q&&(N.version=q.flagVersion?q.flagVersion:q.version,N.trackEvents=q.trackEvents,N.debugEventsUntilDate=q.debugEventsUntilDate),(U||q&&q.trackReason)&&h&&(N.reason=h.reason),ce(N)}function Oe(p){return kr(p,!1)?Promise.resolve(p):Promise.reject(new _.LDInvalidUserError(C.invalidContext()))}function fe(p,h,m,U,j,z){var Pe;let N,q;return k&&T.objectHasOwnProperty(k,p)&&k[p]&&!k[p].deleted?(q=k[p],N=oe(q),q.value!==null&&q.value!==void 0||(N.value=h)):N={value:h,variationIndex:null,reason:{kind:"ERROR",errorKind:"FLAG_NOT_FOUND"}},m&&(j||((Pe=q==null?void 0:q.prerequisites)==null||Pe.forEach(Ee=>{fe(Ee,void 0,m,!1,!1,!1)})),me(p,N,h,U)),!j&&z&&function(Ee,Ke){s.hasListeners(Ae.flagUsed)&&s.onFlagUsed(Ee,Ke,H.getContext())}(p,N),N}function oe(p){return{value:p.value,variationIndex:p.variation===void 0?null:p.variation,reason:p.reason||null}}function De(){if(S=!0,!H.getContext())return;const p=h=>{try{return JSON.parse(h)}catch{return void n.maybeReportError(new _.LDInvalidDataError(C.invalidData()))}};D.connect(H.getContext(),g,{ping:function(){o.debug(C.debugStreamPing());const h=H.getContext();d.fetchFlagSettings(h,g).then(m=>{T.deepEquals(h,H.getContext())&&ae(m||{})}).catch(m=>{n.maybeReportError(new _.LDFlagFetchError(C.errorFetchingFlags(m)))})},put:function(h){const m=p(h.data);m&&(o.debug(C.debugStreamPut()),ae(m))},patch:function(h){const m=p(h.data);if(!m)return;const U=k[m.key];if(!U||!U.version||!m.version||U.version<m.version){o.debug(C.debugStreamPatch(m.key));const j={},z=T.extend({},m);delete z.key,k[m.key]=z;const N=oe(z);j[m.key]=U?{previous:U.value,current:N}:{current:N},ve(m,z),he(j)}else o.debug(C.debugStreamPatchIgnored(m.key))},delete:function(h){const m=p(h.data);if(m)if(!k[m.key]||k[m.key].version<m.version){o.debug(C.debugStreamDelete(m.key));const U={};k[m.key]&&!k[m.key].deleted&&(U[m.key]={previous:k[m.key].value}),k[m.key]={version:m.version,deleted:!0},ve(m,k[m.key]),he(U)}else o.debug(C.debugStreamDeleteIgnored(m.key))}})}function ye(){S&&(D.disconnect(),S=!1)}function ae(p){const h={};if(!p)return Promise.resolve();for(const m in k)T.objectHasOwnProperty(k,m)&&k[m]&&(p[m]&&!T.deepEquals(p[m].value,k[m].value)?h[m]={previous:k[m].value,current:oe(p[m])}:p[m]&&!p[m].deleted||(h[m]={previous:k[m].value}));for(const m in p)T.objectHasOwnProperty(p,m)&&p[m]&&(!k[m]||k[m].deleted)&&(h[m]={current:oe(p[m])});return k={...p},Se(),he(h).catch(()=>{})}function he(p){const h=Object.keys(p);if(h.length>0){const m={};h.forEach(U=>{const j=p[U].current,z=j?j.value:void 0,N=p[U].previous;n.emit(Fe+":"+U,z,N),m[U]=j?{current:z,previous:N}:{previous:N}}),n.emit(Fe,m),n.emit(Nt,k),u.sendEventsOnlyForVariation||Z||h.forEach(U=>{me(U,p[U].current)})}return I&&re?re.saveFlags(k):Promise.resolve()}function be(){const p=R||P&&R===void 0;p&&!S?De():!p&&S&&ye(),E&&E.setStreaming(p)}function we(p){return p===Fe||p.substr(0,7)===Fe+":"}if(typeof u.bootstrap=="string"&&u.bootstrap.toUpperCase()==="LOCALSTORAGE"&&(re?I=!0:o.warn(C.localStorageUnavailable())),typeof u.bootstrap=="object"&&(k=function(p){const h=Object.keys(p),m="$flagsState",U="$valid",j=p[m];!j&&h.length&&o.warn(C.bootstrapOldFormat()),p[U]===!1&&o.warn(C.bootstrapInvalid());const z={};return h.forEach(N=>{if(N!==m&&N!==U){let q={value:p[N]};j&&j[N]?q=T.extend(q,j[N]):q.version=0,z[N]=q}}),z}(u.bootstrap)),Z){const p=Z.getInitialState();p?Ce(p):Z.on("init",Ce),Z.on("update",function(h){h.context&&H.setContext(h.context),h.flags&&ae(h.flags)})}else(function(){return e?ge.processContext(t).then(Oe).then(p=>(H.setContext(p),typeof u.bootstrap=="object"?le():I?re.loadFlags().then(h=>h==null?(k={},d.fetchFlagSettings(H.getContext(),g).then(m=>ae(m||{})).then(le).catch(m=>{xe(new _.LDFlagFetchError(C.errorFetchingFlags(m)))})):(k=h,T.onNextTick(le),d.fetchFlagSettings(H.getContext(),g).then(m=>ae(m)).catch(m=>n.maybeReportError(m)))):d.fetchFlagSettings(H.getContext(),g).then(h=>{k=h||{},Se(),le()}).catch(h=>{k={},xe(h)}))):Promise.reject(new _.LDInvalidEnvironmentIdError(C.environmentNotSpecified()))})().catch(xe);function Ce(p){f=p.environment,H.setContext(p.context),k={...p.flags},T.onNextTick(le)}function le(){o.info(C.clientInitialized()),F=!0,be(),i.signalSuccess()}function xe(p){i.signalFailure(p)}return{client:{waitForInitialization:function(p=void 0){if(p!=null){if(typeof p=="number")return function(h){h>5&&o.warn("The waitForInitialization function was called with a timeout greater than 5 seconds. We recommend a timeout of 5 seconds or less.");const m=i.getInitializationPromise(),U=xr(h,"waitForInitialization");return Promise.race([U,m]).catch(j=>{throw j instanceof _.LDTimeoutError&&o.error(`waitForInitialization error: ${j}`),j})}(p);o.warn("The waitForInitialization method was provided with a non-numeric timeout.")}return o.warn("The waitForInitialization function was called without a timeout specified. In a future version a default timeout will be applied."),i.getInitializationPromise()},waitUntilReady:()=>i.getReadyPromise(),identify:function(p,h,m){if(V)return T.wrapPromiseCallback(Promise.resolve({}),m);if(Z)return o.warn(C.identifyDisabled()),T.wrapPromiseCallback(Promise.resolve(T.transformVersionedValuesToValues(k)),m);const U=I&&re?re.clearFlags():Promise.resolve();return T.wrapPromiseCallback(U.then(()=>ge.processContext(p)).then(Oe).then(j=>d.fetchFlagSettings(j,h).then(z=>{const N=T.transformVersionedValuesToValues(z);return H.setContext(j),g=h,z?ae(z).then(()=>N):N})).then(j=>(S&&De(),j)).catch(j=>(n.maybeReportError(j),Promise.reject(j))),m)},getContext:function(){return H.getContext()},variation:function(p,h){return fe(p,h,!0,!1,!1,!0).value},variationDetail:function(p,h){return fe(p,h,!0,!0,!1,!0)},track:function(p,h,m){if(typeof p!="string")return void n.maybeReportError(new _.LDInvalidEventKeyError(C.unknownCustomEventKey(p)));m!==void 0&&typeof m!="number"&&o.warn(C.invalidMetricValue(typeof m)),r.customEventFilter&&!r.customEventFilter(p)&&o.warn(C.unknownCustomEventKey(p));const U=H.getContext(),j={kind:"custom",key:p,context:U,url:r.getCurrentUrl(),creationDate:new Date().getTime()};U&&U.anonymous&&(j.contextKind=U.anonymous?"anonymousUser":"user"),h!=null&&(j.data=h),m!=null&&(j.metricValue=m),ce(j)},on:function(p,h,m){we(p)?(P=!0,F&&be(),n.on(p,h,m)):n.on(...arguments)},off:function(p){if(n.off(...arguments),we(p)){let h=!1;n.getEvents().forEach(m=>{we(m)&&n.getEventListenerCount(m)>0&&(h=!0)}),h||(P=!1,S&&R===void 0&&ye())}},setStreaming:function(p){const h=p===null?void 0:p;h!==R&&(R=h,be())},flush:function(p){return T.wrapPromiseCallback(l?A.flush():Promise.resolve(),p)},allFlags:function(){const p={};if(!k)return p;for(const h in k)T.objectHasOwnProperty(k,h)&&!k[h].deleted&&(p[h]=fe(h,null,!u.sendEventsOnlyForVariation,!1,!0,!1).value);return p},close:function(p){if(V)return T.wrapPromiseCallback(Promise.resolve(),p);const h=()=>{V=!0,k={}},m=Promise.resolve().then(()=>{if(ye(),E&&E.stop(),l)return A.stop(),A.flush()}).then(h).catch(h);return T.wrapPromiseCallback(m,p)}},options:u,emitter:n,ident:H,logger:o,requestor:d,start:function(){l&&(E&&E.start(),A.start())},enqueueEvent:ce,getFlagsInternal:function(){return k},getEnvironmentId:()=>f,internalChangeEventName:Nt}},errors:_},Or=Qt.initialize,Dr=Qt.errors;function Cr(e,t,a){return(t=function(r){var c=function(o,n){if(typeof o!="object"||!o)return o;var i=o[Symbol.toPrimitive];if(i!==void 0){var u=i.call(o,n);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(o)}(r,"string");return typeof c=="symbol"?c:c+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,r)}return a}function Vt(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Mt(Object(a),!0).forEach(function(r){Cr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}var $t={promise:Promise.resolve({status:200,header:function(){return null},body:null})};function Pr(e,t,a,r,c){if(c&&!function(){var s=window.navigator&&window.navigator.userAgent;if(s){var l=s.match(/Chrom(e|ium)\/([0-9]+)\./);if(l)return parseInt(l[2],10)<73}return!0}())return $t;var o=new window.XMLHttpRequest;for(var n in o.open(e,t,!c),a||{})Object.prototype.hasOwnProperty.call(a,n)&&o.setRequestHeader(n,a[n]);if(c){try{o.send(r)}catch{}return $t}var i,u=new Promise(function(s,l){o.addEventListener("load",function(){i||s({status:o.status,header:function(f){return o.getResponseHeader(f)},body:o.responseText})}),o.addEventListener("error",function(){i||l(new Error)}),o.send(r)});return{promise:u,cancel:function(){i=!0,o.abort()}}}var at=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};function Ir(e,t,a,r){var c,o,n=((e.kind==="substring"||e.kind==="regex")&&r.includes("/")?t:t.replace(r,"")).replace(a,"");switch(e.kind){case"exact":o=t,c=new RegExp("^"+at(e.url)+"/?$");break;case"canonical":o=n,c=new RegExp("^"+at(e.url)+"/?$");break;case"substring":o=n,c=new RegExp(".*"+at(e.substring)+".*$");break;case"regex":o=n,c=new RegExp(e.pattern);break;default:return!1}return c.test(o)}function qt(e,t){for(var a={},r=null,c=[],o=0;o<e.length;o++)for(var n=e[o],i=n.urls||[],u=0;u<i.length;u++)if(Ir(i[u],window.location.href,window.location.search,window.location.hash)){n.kind==="pageview"?t("pageview",n):(c.push(n),t("click_pageview",n));break}return c.length>0&&(r=function(s){for(var l=function(g,y){for(var v=[],w=0;w<y.length;w++)for(var O=g.target,b=y[w],E=b.selector,D=document.querySelectorAll(E);O&&D.length>0;){for(var A=0;A<D.length;A++)O===D[A]&&v.push(b);O=O.parentNode}return v}(s,c),f=0;f<l.length;f++)t("click",l[f])},document.addEventListener("click",r)),a.dispose=function(){document.removeEventListener("click",r)},a}function Tr(e,t){var a,r;function c(){r&&r.dispose(),a&&a.length&&(r=qt(a,o))}function o(n,i){var u=e.ident.getContext(),s={kind:n,key:i.key,data:null,url:window.location.href,creationDate:new Date().getTime(),context:u};return n==="click"&&(s.selector=i.selector),e.enqueueEvent(s)}return e.requestor.fetchJSON("/sdk/goals/"+e.getEnvironmentId()).then(function(n){n&&n.length>0&&(r=qt(a=n,o),function(i,u){var s,l=window.location.href;function f(){(s=window.location.href)!==l&&(l=s,u())}(function g(y,v){y(),setTimeout(function(){g(y,v)},v)})(f,i),window.history&&window.history.pushState?window.addEventListener("popstate",f):window.addEventListener("hashchange",f)}(300,c)),t()}).catch(function(n){e.emitter.maybeReportError(new Dr.LDUnexpectedResponseError((n&&n.message,n.message))),t()}),{}}var Ne="goalsReady",Rr={fetchGoals:{default:!0},hash:{type:"string"},eventProcessor:{type:"object"},eventUrlTransformer:{type:"function"},disableSyncEventPost:{default:!1}};function jr(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(l){var f,g={userAgentHeaderName:"X-LaunchDarkly-User-Agent",synchronousFlush:!1};if(window.XMLHttpRequest){var y=l&&l.disableSyncEventPost;g.httpRequest=function(b,E,D,A){var d=g.synchronousFlush&!y;return g.synchronousFlush=!1,Pr(b,E,D,A,d)}}g.httpAllowsPost=function(){return f===void 0&&(f=!!window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest),f},g.httpFallbackPing=function(b){new window.Image().src=b};var v,w=l&&l.eventUrlTransformer;g.getCurrentUrl=function(){return w?w(window.location.href):window.location.href},g.isDoNotTrack=function(){var b;return(b=window.navigator&&window.navigator.doNotTrack!==void 0?window.navigator.doNotTrack:window.navigator&&window.navigator.msDoNotTrack!==void 0?window.navigator.msDoNotTrack:window.doNotTrack)===1||b===!0||b==="1"||b==="yes"};try{window.localStorage&&(g.localStorage={get:function(b){return new Promise(function(E){E(window.localStorage.getItem(b))})},set:function(b,E){return new Promise(function(D){window.localStorage.setItem(b,E),D()})},clear:function(b){return new Promise(function(E){window.localStorage.removeItem(b),E()})}})}catch{g.localStorage=null}if(l&&l.useReport&&typeof window.EventSourcePolyfill=="function"&&window.EventSourcePolyfill.supportedOptions&&window.EventSourcePolyfill.supportedOptions.method?(g.eventSourceAllowsReport=!0,v=window.EventSourcePolyfill):(g.eventSourceAllowsReport=!1,v=window.EventSource),window.EventSource){var O=3e5;g.eventSourceFactory=function(b,E){var D=Vt(Vt({},{heartbeatTimeout:O,silentTimeout:O,skipDefaultHeaders:!0}),E);return new v(b,D)},g.eventSourceIsActive=function(b){return b.readyState===window.EventSource.OPEN||b.readyState===window.EventSource.CONNECTING}}return g.userAgent="JSClient",g.version="3.5.0",g.diagnosticSdkData={name:"js-client-sdk",version:"3.5.0"},g.diagnosticPlatformData={name:"JS"},g.diagnosticUseCombinedEvent=!0,g}(a),c=Or(e,t,a,r,Rr),o=c.client,n=c.options,i=c.emitter,u=new Promise(function(l){var f=i.on(Ne,function(){i.off(Ne,f),l()})});o.waitUntilGoalsReady=function(){return u},n.fetchGoals?Tr(c,function(){return i.emit(Ne)}):i.emit(Ne),document.readyState!=="complete"?window.addEventListener("load",c.start):c.start();var s=function(){r.synchronousFlush=!0,o.flush().catch(function(){}),r.synchronousFlush=!1};return document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&s()}),window.addEventListener("pagehide",s),o}var it,_t;function Lr(){if(_t)return it;_t=1;var e="[object Symbol]",t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\ud800-\\udfff",c="\\u0300-\\u036f\\ufe20-\\ufe23",o="\\u20d0-\\u20f0",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",u="\\xac\\xb1\\xd7\\xf7",s="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",l="\\u2000-\\u206f",f=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",g="A-Z\\xc0-\\xd6\\xd8-\\xde",y="\\ufe0e\\ufe0f",v=u+s+l+f,w="['’]",O="["+r+"]",b="["+v+"]",E="["+c+o+"]",D="\\d+",A="["+n+"]",d="["+i+"]",I="[^"+r+v+D+n+i+g+"]",S="\\ud83c[\\udffb-\\udfff]",P="(?:"+E+"|"+S+")",k="[^"+r+"]",R="(?:\\ud83c[\\udde6-\\uddff]){2}",F="[\\ud800-\\udbff][\\udc00-\\udfff]",V="["+g+"]",X="\\u200d",Z="(?:"+d+"|"+I+")",H="(?:"+V+"|"+I+")",ge="(?:"+w+"(?:d|ll|m|re|s|t|ve))?",re="(?:"+w+"(?:D|LL|M|RE|S|T|VE))?",ce=P+"?",ve="["+y+"]?",Se="(?:"+X+"(?:"+[k,R,F].join("|")+")"+ve+ce+")*",me=ve+ce+Se,Oe="(?:"+[A,R,F].join("|")+")"+me,fe="(?:"+[k+E+"?",E,R,F,O].join("|")+")",oe=RegExp(w,"g"),De=RegExp(E,"g"),ye=RegExp(S+"(?="+S+")|"+fe+me,"g"),ae=RegExp([V+"?"+d+"+"+ge+"(?="+[b,V,"$"].join("|")+")",H+"+"+re+"(?="+[b,V+Z,"$"].join("|")+")",V+"?"+Z+"+"+ge,V+"+"+re,D,Oe].join("|"),"g"),he=RegExp("["+X+r+c+o+y+"]"),be=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,we={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},Ce=typeof Re=="object"&&Re&&Re.Object===Object&&Re,le=typeof self=="object"&&self&&self.Object===Object&&self,xe=Ce||le||Function("return this")();function mt(x,L,$,ie){for(var Y=-1,Te=x?x.length:0;++Y<Te;)$=L($,x[Y],Y,x);return $}function p(x){return x.split("")}function h(x){return x.match(t)||[]}function m(x){return function(L){return x==null?void 0:x[L]}}var U=m(we);function j(x){return he.test(x)}function z(x){return be.test(x)}function N(x){return j(x)?q(x):p(x)}function q(x){return x.match(ye)||[]}function Pe(x){return x.match(ae)||[]}var Ee=Object.prototype,Ke=Ee.toString,yt=xe.Symbol,ht=yt?yt.prototype:void 0,bt=ht?ht.toString:void 0;function rn(x,L,$){var ie=-1,Y=x.length;L<0&&(L=-L>Y?0:Y+L),$=$>Y?Y:$,$<0&&($+=Y),Y=L>$?0:$-L>>>0,L>>>=0;for(var Te=Array(Y);++ie<Y;)Te[ie]=x[ie+L];return Te}function on(x){if(typeof x=="string")return x;if(ln(x))return bt?bt.call(x):"";var L=x+"";return L=="0"&&1/x==-1/0?"-0":L}function an(x,L,$){var ie=x.length;return $=$===void 0?ie:$,rn(x,L,$)}function un(x){return function(L){L=Ie(L);var $=j(L)?N(L):void 0,ie=$?$[0]:L.charAt(0),Y=$?an($,1).join(""):L.slice(1);return ie[x]()+Y}}function sn(x){return function(L){return mt(vn(pn(L).replace(oe,"")),x,"")}}function cn(x){return!!x&&typeof x=="object"}function ln(x){return typeof x=="symbol"||cn(x)&&Ke.call(x)==e}function Ie(x){return x==null?"":on(x)}var fn=sn(function(x,L,$){return L=L.toLowerCase(),x+($?dn(L):L)});function dn(x){return gn(Ie(x).toLowerCase())}function pn(x){return x=Ie(x),x&&x.replace(a,U).replace(De,"")}var gn=un("toUpperCase");function vn(x,L,$){return x=Ie(x),L=L,L===void 0?z(x)?Pe(x):h(x):x.match(L)||[]}return it=fn,it}var Ur=Lr();const en=mn(Ur);var ut={exports:{}},M={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht;function Ar(){if(Ht)return M;Ht=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,a=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,c=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,n=e?Symbol.for("react.provider"):60109,i=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,s=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,O=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function D(d){if(typeof d=="object"&&d!==null){var I=d.$$typeof;switch(I){case t:switch(d=d.type,d){case u:case s:case r:case o:case c:case f:return d;default:switch(d=d&&d.$$typeof,d){case i:case l:case v:case y:case n:return d;default:return I}}case a:return I}}}function A(d){return D(d)===s}return M.AsyncMode=u,M.ConcurrentMode=s,M.ContextConsumer=i,M.ContextProvider=n,M.Element=t,M.ForwardRef=l,M.Fragment=r,M.Lazy=v,M.Memo=y,M.Portal=a,M.Profiler=o,M.StrictMode=c,M.Suspense=f,M.isAsyncMode=function(d){return A(d)||D(d)===u},M.isConcurrentMode=A,M.isContextConsumer=function(d){return D(d)===i},M.isContextProvider=function(d){return D(d)===n},M.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===t},M.isForwardRef=function(d){return D(d)===l},M.isFragment=function(d){return D(d)===r},M.isLazy=function(d){return D(d)===v},M.isMemo=function(d){return D(d)===y},M.isPortal=function(d){return D(d)===a},M.isProfiler=function(d){return D(d)===o},M.isStrictMode=function(d){return D(d)===c},M.isSuspense=function(d){return D(d)===f},M.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===r||d===s||d===o||d===c||d===f||d===g||typeof d=="object"&&d!==null&&(d.$$typeof===v||d.$$typeof===y||d.$$typeof===n||d.$$typeof===i||d.$$typeof===l||d.$$typeof===O||d.$$typeof===b||d.$$typeof===E||d.$$typeof===w)},M.typeOf=D,M}var zt;function Fr(){return zt||(zt=1,ut.exports=Ar()),ut.exports}var st,Kt;function Nr(){if(Kt)return st;Kt=1;var e=Fr(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=c;function n(v){return e.isMemo(v)?c:o[v.$$typeof]||t}var i=Object.defineProperty,u=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;function y(v,w,O){if(typeof w!="string"){if(g){var b=f(w);b&&b!==g&&y(v,b,O)}var E=u(w);s&&(E=E.concat(s(w)));for(var D=n(v),A=n(w),d=0;d<E.length;++d){var I=E[d];if(!a[I]&&!(O&&O[I])&&!(A&&A[I])&&!(D&&D[I])){var S=l(w,I);try{i(v,I,S)}catch{}}}}return v}return st=y,st}Nr();const Mr=()=>$e.createContext({flags:{},flagKeyMap:{},ldClient:void 0}),vt={useCamelCaseFlagKeys:!0,sendEventsOnFlagRead:!0,reactContext:Mr()},Vr=e=>{var t;return(t=e.context)!=null?t:e.user},Jt=e=>{const t={};for(const a in e)a.indexOf("$")!==0&&(t[en(a)]=e[a]);return t},$r=(e,t)=>{const a={};for(const r in e)t&&t[r]===void 0||(a[r]=e[r].current);return a},Wt=(e,t)=>{const a=e.allFlags();return t?Object.keys(t).reduce((r,c)=>(r[c]=Object.prototype.hasOwnProperty.call(a,c)?a[c]:t[c],r),{}):a};function ct(e,t,a=vt,r){const c=function(u,s){return s===void 0?u:Object.keys(s).reduce((l,f)=>(lt(u,f)&&(l[f]=u[f]),l),{})}(t,r),{useCamelCaseFlagKeys:o=!0}=a,[n,i={}]=o?function(u){const s={},l={};for(const f in u){if(f.indexOf("$")===0)continue;const g=en(f);s[g]=u[f],l[g]=f}return[s,l]}(c):[c];return{flags:a.sendEventsOnFlagRead?qr(e,n,i,o):n,flagKeyMap:i}}function lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qr(e,t,a,r){return new Proxy(t,{get(c,o,n){const i=Reflect.get(c,o,n),u=r&&lt(a,o)||lt(c,o);if(typeof o=="symbol"||!u)return i;if(i===void 0)return;const s=r?a[o]:o;return e.variation(s,i)}})}Jt.camelCaseKeys=Jt;const _r={wrapperName:"react-client-sdk",wrapperVersion:"3.6.1",sendEventsOnlyForVariation:!0};var Hr=Object.defineProperty,zr=Object.defineProperties,Kr=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,Bt=(e,t,a)=>t in e?Hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ee=(e,t)=>{for(var a in t||(t={}))tn.call(t,a)&&Bt(e,a,t[a]);if(_e)for(var a of _e(t))nn.call(t,a)&&Bt(e,a,t[a]);return e},Me=(e,t)=>zr(e,Kr(t));function Wr(e){return t=this,a=null,r=function*(){var c,o;const{clientSideID:n,flags:i,options:u,reactOptions:s}=e,l=ee(ee({},vt),s),f=(c=Vr(e))!=null?c:{anonymous:!0,kind:"user"};let g,y={};const v=(o=yield e.ldClient)!=null?o:jr(n,f,ee(ee({},_r),u));try{yield v.waitForInitialization(e.timeout),y=Wt(v,i)}catch(O){g=O}const w=u!=null&&u.bootstrap&&u.bootstrap!=="localStorage"?u.bootstrap:y;return({children:O})=>{const[b,E]=$e.useState(()=>Me(ee({unproxiedFlags:w},ct(v,w,l,i)),{ldClient:v,error:g}));$e.useEffect(()=>{function d(P){const k=$r(P,i);Object.keys(k).length>0&&E(R=>{const F=ee(ee({},R.unproxiedFlags),k);return ee(Me(ee({},R),{unproxiedFlags:F}),ct(v,F,l,i))})}function I(){const P=Wt(v,i);E(k=>ee(Me(ee({},k),{unproxiedFlags:P}),ct(v,P,l,i)))}function S(P){E(k=>Me(ee({},k),{error:P}))}return v.on("change",d),g!=null&&g.name.toLowerCase().includes("timeout")&&(v.on("failed",S),v.on("ready",I)),function(){v.off("change",d),v.off("failed",S),v.off("ready",I)}},[]);const D=((d,I)=>{var S={};for(var P in d)tn.call(d,P)&&I.indexOf(P)<0&&(S[P]=d[P]);if(d!=null&&_e)for(var P of _e(d))I.indexOf(P)<0&&nn.call(d,P)&&(S[P]=d[P]);return S})(b,["unproxiedFlags"]),{reactContext:A}=l;return yn.createElement(A.Provider,{value:D},O)}},new Promise((c,o)=>{var n=s=>{try{u(r.next(s))}catch(l){o(l)}},i=s=>{try{u(r.throw(s))}catch(l){o(l)}},u=s=>s.done?c(s.value):Promise.resolve(s.value).then(n,i);u((r=r.apply(t,a)).next())});var t,a,r}const Br=e=>{const{flags:t}=$e.useContext(vt.reactContext);return t};export{Wr as W,Br as n};
